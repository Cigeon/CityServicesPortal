<div class="background-image">
    <div class="background-shadow">
        <P class="title-text">Сервіс громадських петицій</P>
        <p class="regular-text">Прийми участь у покращенні життя міста</p>
        <!--<button type="button" class="btn btn-primary" *ngIf="!isAuthorized" [routerLink]="['/create-petition']">
        <span class="bold-text">+ Створити петицію</span>
    </button>-->
        <button *ngIf="isAuthorized" type="button" class="btn btn-primary" (click)="addPetition()">
            <span class="bold-text">+ Створити петицію</span>
        </button>
        <button *ngIf="!isAuthorized" type="button" class="btn btn-primary" (click)="openModal(template)">
            <span class="bold-text">+ Створити петицію</span>
        </button>
    </div>
</div>
<div class="container">
    <h3>По категоріям</h3>
    <div *ngIf="categories.length === 0" class="spinner"></div>
    <div *ngIf="categories.length !== 0" class="categories">
        <div *ngFor="let category of categories" 
             class="card border-secondary mb-3" 
             style="max-width: 18rem;"
             (click)="showPetitions(category.name)">
            <div class="card-body text-secondary">
                <h5 class="card-title">{{category.name}}</h5>
                <p class="card-text">{{category.description}}</p>
            </div>
            <div class="card-footer">
                <small class="text-muted">
                    Зареєстровано петицій - {{category.petitions.length}}
                </small>
            </div>
        </div>        
    </div>
</div>

<ng-template #template>
    <div class="modal-body text-center">
        <br />
        <h6>Увійдіть під своїм логіном, будь-ласка!</h6>
        <br />
        <button type="button" class="btn btn-primary" (click)="confirm()">Авторизація</button>
        <button type="button" class="btn btn-default" (click)="cancel()">Ні, дякую!</button>
        <br />
    </div>
</ng-template>